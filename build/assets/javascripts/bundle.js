!function t(e,i,o){function n(a,r){if(!i[a]){if(!e[a]){var l="function"==typeof require&&require;if(!r&&l)return l(a,!0);if(s)return s(a,!0);var f=new Error("Cannot find module '"+a+"'");throw f.code="MODULE_NOT_FOUND",f}var c=i[a]={exports:{}};e[a][0].call(c.exports,function(t){var i=e[a][1][t];return n(i||t)},c,c.exports,t,e,i,o)}return i[a].exports}for(var s="function"==typeof require&&require,a=0;a<o.length;a++)n(o[a]);return n}({1:[function(t,e,i){t("./app.js")},{"./app.js":2}],2:[function(t,e,i){
/*! Stellar.js v0.6.2 | Copyright 2013, Mark Dalgleish | http://markdalgleish.com/projects/stellar.js | http://markdalgleish.mit-license.org */
!function(t,e,i,o){function n(e,i){this.element=e,this.options=t.extend({},a,i),this._defaults=a,this._name=s,this.init()}var s="stellar",a={scrollProperty:"scroll",positionProperty:"position",horizontalScrolling:!0,verticalScrolling:!0,horizontalOffset:0,verticalOffset:0,responsive:!1,parallaxBackgrounds:!0,parallaxElements:!0,hideDistantElements:!0,hideElement:function(t){t.hide()},showElement:function(t){t.show()}},r={scroll:{getLeft:function(t){return t.scrollLeft()},setLeft:function(t,e){t.scrollLeft(e)},getTop:function(t){return t.scrollTop()},setTop:function(t,e){t.scrollTop(e)}},position:{getLeft:function(t){return-1*parseInt(t.css("left"),10)},getTop:function(t){return-1*parseInt(t.css("top"),10)}},margin:{getLeft:function(t){return-1*parseInt(t.css("margin-left"),10)},getTop:function(t){return-1*parseInt(t.css("margin-top"),10)}},transform:{getLeft:function(t){var e=getComputedStyle(t[0])[f];return"none"!==e?-1*parseInt(e.match(/(-?[0-9]+)/g)[4],10):0},getTop:function(t){var e=getComputedStyle(t[0])[f];return"none"!==e?-1*parseInt(e.match(/(-?[0-9]+)/g)[5],10):0}}},l={position:{setLeft:function(t,e){t.css("left",e)},setTop:function(t,e){t.css("top",e)}},transform:{setPosition:function(t,e,i,o,n){t[0].style[f]="translate3d("+(e-i)+"px, "+(o-n)+"px, 0)"}}},f=function(){var e,i=/^(Moz|Webkit|Khtml|O|ms|Icab)(?=[A-Z])/,o=t("script")[0].style,n="";for(e in o)if(i.test(e)){n=e.match(i)[0];break}return"WebkitOpacity"in o&&(n="Webkit"),"KhtmlOpacity"in o&&(n="Khtml"),function(t){return n+(n.length>0?t.charAt(0).toUpperCase()+t.slice(1):t)}}()("transform"),c=t("<div />",{style:"background:#fff"}).css("background-position-x")!==o,p=c?function(t,e,i){t.css({"background-position-x":e,"background-position-y":i})}:function(t,e,i){t.css("background-position",e+" "+i)},h=c?function(t){return[t.css("background-position-x"),t.css("background-position-y")]}:function(t){return t.css("background-position").split(" ")},d=e.requestAnimationFrame||e.webkitRequestAnimationFrame||e.mozRequestAnimationFrame||e.oRequestAnimationFrame||e.msRequestAnimationFrame||function(t){setTimeout(t,1e3/60)};n.prototype={init:function(){this.options.name=s+"_"+Math.floor(1e9*Math.random()),this._defineElements(),this._defineGetters(),this._defineSetters(),this._handleWindowLoadAndResize(),this._detectViewport(),this.refresh({firstLoad:!0}),"scroll"===this.options.scrollProperty?this._handleScrollEvent():this._startAnimationLoop()},_defineElements:function(){this.element===i.body&&(this.element=e),this.$scrollElement=t(this.element),this.$element=this.element===e?t("body"):this.$scrollElement,this.$viewportElement=this.options.viewportElement!==o?t(this.options.viewportElement):this.$scrollElement[0]===e||"scroll"===this.options.scrollProperty?this.$scrollElement:this.$scrollElement.parent()},_defineGetters:function(){var t=this,e=r[t.options.scrollProperty];this._getScrollLeft=function(){return e.getLeft(t.$scrollElement)},this._getScrollTop=function(){return e.getTop(t.$scrollElement)}},_defineSetters:function(){var e=this,i=r[e.options.scrollProperty],o=l[e.options.positionProperty],n=i.setLeft,s=i.setTop;this._setScrollLeft="function"==typeof n?function(t){n(e.$scrollElement,t)}:t.noop,this._setScrollTop="function"==typeof s?function(t){s(e.$scrollElement,t)}:t.noop,this._setPosition=o.setPosition||function(t,i,n,s,a){e.options.horizontalScrolling&&o.setLeft(t,i,n),e.options.verticalScrolling&&o.setTop(t,s,a)}},_handleWindowLoadAndResize:function(){var i=this,o=t(e);i.options.responsive&&o.bind("load."+this.name,function(){i.refresh()}),o.bind("resize."+this.name,function(){i._detectViewport(),i.options.responsive&&i.refresh()})},refresh:function(i){var o=this,n=o._getScrollLeft(),s=o._getScrollTop();(!i||!i.firstLoad)&&this._reset(),this._setScrollLeft(0),this._setScrollTop(0),this._setOffsets(),this._findParticles(),this._findBackgrounds(),i&&i.firstLoad&&/WebKit/.test(navigator.userAgent)&&t(e).load(function(){var t=o._getScrollLeft(),e=o._getScrollTop();o._setScrollLeft(t+1),o._setScrollTop(e+1),o._setScrollLeft(t),o._setScrollTop(e)}),this._setScrollLeft(n),this._setScrollTop(s)},_detectViewport:function(){var t=this.$viewportElement.offset(),e=null!==t&&t!==o;this.viewportWidth=this.$viewportElement.width(),this.viewportHeight=this.$viewportElement.height(),this.viewportOffsetTop=e?t.top:0,this.viewportOffsetLeft=e?t.left:0},_findParticles:function(){var e=this;this._getScrollLeft(),this._getScrollTop();if(this.particles!==o)for(var i=this.particles.length-1;i>=0;i--)this.particles[i].$element.data("stellar-elementIsActive",o);this.particles=[],this.options.parallaxElements&&this.$element.find("[data-stellar-ratio]").each(function(i){var n,s,a,r,l,f,c,p,h,d=t(this),u=0,g=0,m=0,v=0;if(d.data("stellar-elementIsActive")){if(d.data("stellar-elementIsActive")!==this)return}else d.data("stellar-elementIsActive",this);e.options.showElement(d),d.data("stellar-startingLeft")?(d.css("left",d.data("stellar-startingLeft")),d.css("top",d.data("stellar-startingTop"))):(d.data("stellar-startingLeft",d.css("left")),d.data("stellar-startingTop",d.css("top"))),a=d.position().left,r=d.position().top,l="auto"===d.css("margin-left")?0:parseInt(d.css("margin-left"),10),f="auto"===d.css("margin-top")?0:parseInt(d.css("margin-top"),10),p=d.offset().left-l,h=d.offset().top-f,d.parents().each(function(){var e=t(this);if(!0===e.data("stellar-offset-parent"))return u=m,g=v,c=e,!1;m+=e.position().left,v+=e.position().top}),n=d.data("stellar-horizontal-offset")!==o?d.data("stellar-horizontal-offset"):c!==o&&c.data("stellar-horizontal-offset")!==o?c.data("stellar-horizontal-offset"):e.horizontalOffset,s=d.data("stellar-vertical-offset")!==o?d.data("stellar-vertical-offset"):c!==o&&c.data("stellar-vertical-offset")!==o?c.data("stellar-vertical-offset"):e.verticalOffset,e.particles.push({$element:d,$offsetParent:c,isFixed:"fixed"===d.css("position"),horizontalOffset:n,verticalOffset:s,startingPositionLeft:a,startingPositionTop:r,startingOffsetLeft:p,startingOffsetTop:h,parentOffsetLeft:u,parentOffsetTop:g,stellarRatio:d.data("stellar-ratio")!==o?d.data("stellar-ratio"):1,width:d.outerWidth(!0),height:d.outerHeight(!0),isHidden:!1})})},_findBackgrounds:function(){var e,i=this,n=this._getScrollLeft(),s=this._getScrollTop();this.backgrounds=[],this.options.parallaxBackgrounds&&(e=this.$element.find("[data-stellar-background-ratio]"),this.$element.data("stellar-background-ratio")&&(e=e.add(this.$element)),e.each(function(){var e,a,r,l,f,c,d,u=t(this),g=h(u),m=0,v=0,$=0,b=0;if(u.data("stellar-backgroundIsActive")){if(u.data("stellar-backgroundIsActive")!==this)return}else u.data("stellar-backgroundIsActive",this);u.data("stellar-backgroundStartingLeft")?p(u,u.data("stellar-backgroundStartingLeft"),u.data("stellar-backgroundStartingTop")):(u.data("stellar-backgroundStartingLeft",g[0]),u.data("stellar-backgroundStartingTop",g[1])),r="auto"===u.css("margin-left")?0:parseInt(u.css("margin-left"),10),l="auto"===u.css("margin-top")?0:parseInt(u.css("margin-top"),10),f=u.offset().left-r-n,c=u.offset().top-l-s,u.parents().each(function(){var e=t(this);if(!0===e.data("stellar-offset-parent"))return m=$,v=b,d=e,!1;$+=e.position().left,b+=e.position().top}),e=u.data("stellar-horizontal-offset")!==o?u.data("stellar-horizontal-offset"):d!==o&&d.data("stellar-horizontal-offset")!==o?d.data("stellar-horizontal-offset"):i.horizontalOffset,a=u.data("stellar-vertical-offset")!==o?u.data("stellar-vertical-offset"):d!==o&&d.data("stellar-vertical-offset")!==o?d.data("stellar-vertical-offset"):i.verticalOffset,i.backgrounds.push({$element:u,$offsetParent:d,isFixed:"fixed"===u.css("background-attachment"),horizontalOffset:e,verticalOffset:a,startingValueLeft:g[0],startingValueTop:g[1],startingBackgroundPositionLeft:isNaN(parseInt(g[0],10))?0:parseInt(g[0],10),startingBackgroundPositionTop:isNaN(parseInt(g[1],10))?0:parseInt(g[1],10),startingPositionLeft:u.position().left,startingPositionTop:u.position().top,startingOffsetLeft:f,startingOffsetTop:c,parentOffsetLeft:m,parentOffsetTop:v,stellarRatio:u.data("stellar-background-ratio")===o?1:u.data("stellar-background-ratio")})}))},_reset:function(){var t,e,i,o,n;for(n=this.particles.length-1;n>=0;n--)t=this.particles[n],e=t.$element.data("stellar-startingLeft"),i=t.$element.data("stellar-startingTop"),this._setPosition(t.$element,e,e,i,i),this.options.showElement(t.$element),t.$element.data("stellar-startingLeft",null).data("stellar-elementIsActive",null).data("stellar-backgroundIsActive",null);for(n=this.backgrounds.length-1;n>=0;n--)o=this.backgrounds[n],o.$element.data("stellar-backgroundStartingLeft",null).data("stellar-backgroundStartingTop",null),p(o.$element,o.startingValueLeft,o.startingValueTop)},destroy:function(){this._reset(),this.$scrollElement.unbind("resize."+this.name).unbind("scroll."+this.name),this._animationLoop=t.noop,t(e).unbind("load."+this.name).unbind("resize."+this.name)},_setOffsets:function(){var i=this,o=t(e);o.unbind("resize.horizontal-"+this.name).unbind("resize.vertical-"+this.name),"function"==typeof this.options.horizontalOffset?(this.horizontalOffset=this.options.horizontalOffset(),o.bind("resize.horizontal-"+this.name,function(){i.horizontalOffset=i.options.horizontalOffset()})):this.horizontalOffset=this.options.horizontalOffset,"function"==typeof this.options.verticalOffset?(this.verticalOffset=this.options.verticalOffset(),o.bind("resize.vertical-"+this.name,function(){i.verticalOffset=i.options.verticalOffset()})):this.verticalOffset=this.options.verticalOffset},_repositionElements:function(){var t,e,i,o,n,s,a,r,l,f,c=this._getScrollLeft(),h=this._getScrollTop(),d=!0,u=!0;if(this.currentScrollLeft!==c||this.currentScrollTop!==h||this.currentWidth!==this.viewportWidth||this.currentHeight!==this.viewportHeight){for(this.currentScrollLeft=c,this.currentScrollTop=h,this.currentWidth=this.viewportWidth,this.currentHeight=this.viewportHeight,f=this.particles.length-1;f>=0;f--)t=this.particles[f],e=t.isFixed?1:0,this.options.horizontalScrolling?(s=(c+t.horizontalOffset+this.viewportOffsetLeft+t.startingPositionLeft-t.startingOffsetLeft+t.parentOffsetLeft)*-(t.stellarRatio+e-1)+t.startingPositionLeft,r=s-t.startingPositionLeft+t.startingOffsetLeft):(s=t.startingPositionLeft,r=t.startingOffsetLeft),this.options.verticalScrolling?(a=(h+t.verticalOffset+this.viewportOffsetTop+t.startingPositionTop-t.startingOffsetTop+t.parentOffsetTop)*-(t.stellarRatio+e-1)+t.startingPositionTop,l=a-t.startingPositionTop+t.startingOffsetTop):(a=t.startingPositionTop,l=t.startingOffsetTop),this.options.hideDistantElements&&(u=!this.options.horizontalScrolling||r+t.width>(t.isFixed?0:c)&&r<(t.isFixed?0:c)+this.viewportWidth+this.viewportOffsetLeft,d=!this.options.verticalScrolling||l+t.height>(t.isFixed?0:h)&&l<(t.isFixed?0:h)+this.viewportHeight+this.viewportOffsetTop),u&&d?(t.isHidden&&(this.options.showElement(t.$element),t.isHidden=!1),this._setPosition(t.$element,s,t.startingPositionLeft,a,t.startingPositionTop)):t.isHidden||(this.options.hideElement(t.$element),t.isHidden=!0);for(f=this.backgrounds.length-1;f>=0;f--)i=this.backgrounds[f],e=i.isFixed?0:1,o=this.options.horizontalScrolling?(c+i.horizontalOffset-this.viewportOffsetLeft-i.startingOffsetLeft+i.parentOffsetLeft-i.startingBackgroundPositionLeft)*(e-i.stellarRatio)+"px":i.startingValueLeft,n=this.options.verticalScrolling?(h+i.verticalOffset-this.viewportOffsetTop-i.startingOffsetTop+i.parentOffsetTop-i.startingBackgroundPositionTop)*(e-i.stellarRatio)+"px":i.startingValueTop,p(i.$element,o,n)}},_handleScrollEvent:function(){var t=this,e=!1,i=function(){t._repositionElements(),e=!1},o=function(){e||(d(i),e=!0)};this.$scrollElement.bind("scroll."+this.name,o),o()},_startAnimationLoop:function(){var t=this;this._animationLoop=function(){d(t._animationLoop),t._repositionElements()},this._animationLoop()}},t.fn[s]=function(e){var i=arguments;return e===o||"object"==typeof e?this.each(function(){t.data(this,"plugin_"+s)||t.data(this,"plugin_"+s,new n(this,e))}):"string"==typeof e&&"_"!==e[0]&&"init"!==e?this.each(function(){var o=t.data(this,"plugin_"+s);o instanceof n&&"function"==typeof o[e]&&o[e].apply(o,Array.prototype.slice.call(i,1)),"destroy"===e&&t.data(this,"plugin_"+s,null)}):void 0},t[s]=function(i){var o=t(e);return o.stellar.apply(o,Array.prototype.slice.call(arguments,0))},t[s].scrollProperty=r,t[s].positionProperty=l,e.Stellar=n}(jQuery,this,document),
/*
* ----------------------------------------------------------------------------------------
Author       : Mannat Themes
Template Name: Ultra - Responsive Resume & CV Template
Version      : 1.0
* ----------------------------------------------------------------------------------------
*/
/**
 * Main Application Js 
 */
function(){
// Page module - helps to manage all the pages and navigation
var t=function(){var t={$bookBlock:$("#bb-bookblock"),$navNext:$(".bb-nav-next"),$navPrev:$(".bb-nav-prev"),$skillWidgets:$(".skill-circle")},e={$menuItems:$("#menu li a"),$aboutMenuItem:$("#aboutme"),$navbarToggleButton:$(".navbar-toggle:visible"),$navbarDropdownMenu:$("#nav-top")},i=function(){var i=t.$bookBlock.children();
// add navigation events
t.$navNext.on("click touchstart",function(){return t.$bookBlock.bookblock("next"),
// Closes the Responsive Menu on Menu Item Click
e.$navbarDropdownMenu.hasClass("in")&&e.$navbarToggleButton.trigger("click"),!1}),t.$navPrev.on("click touchstart",function(){return t.$bookBlock.bookblock("prev"),
// Closes the Responsive Menu on Menu Item Click
e.$navbarDropdownMenu.hasClass("in")&&e.$navbarToggleButton.trigger("click"),!1}),
// add swipe events
i.on({swipeleft:function(e){return t.$bookBlock.bookblock("next"),!1},swiperight:function(e){return t.$bookBlock.bookblock("prev"),!1}}),
// add keyboard events
$(document).keydown(function(e){switch(e.keyCode||e.which){case 37:t.$bookBlock.bookblock("prev");break;case 39:t.$bookBlock.bookblock("next")}})};
//menu item
return current=0,e.$menuItems.on("click",function(){var e=$(this).attr("data-page");return t.$bookBlock.bookblock("jump",e),!1}),
//about menu - home
e.$aboutMenuItem.on("click",function(){return t.$bookBlock.bookblock("next"),!1}),{init:function(){t.$bookBlock.bookblock({speed:1e3,shadowSides:.8,shadowFlip:.4,onEndFlip:function(e,i,o){current=i,
// Add more animate css classes, if you are using other classes.
$("#page-"+i+" .animateFadeInLeft").addClass("animated fadeInLeft").show(),$("#page-"+i+" .animateFadeInRight").addClass("animated fadeInRight").show(),$("#page-"+i+" .animateFadeInUp").addClass("animated fadeInUp").show(),$("#page-"+i+" .animateFadeInDown").addClass("animated fadeInDown").show(),$("#page-"+i+" .animateFlipInX").addClass("animated flipInX").show(),$("#page-"+i+" .animateFlipInY").addClass("animated flipInY").show(),$("#page-"+i+" .animateBounceInLeft").addClass("animated bounceInLeft").show(),$("#page-"+i+" .animateBounceInRight").addClass("animated bounceInRight").show(),setTimeout(function(){$("#page-"+i+" .animateFadeInLeft").removeClass("animateFadeInLeft").removeClass("animated fadeInLeft"),$("#page-"+i+" .animateFadeInRight").removeClass("animateFadeInRight").removeClass("animated fadeInRight"),$("#page-"+i+" .animateFadeInUp").removeClass("animateFadeInUp").removeClass("animated fadeInUp"),$("#page-"+i+" .animateFadeInDown").removeClass("animateFadeInDown").removeClass("animated fadeInDown"),$("#page-"+i+" .animateFlipInX").removeClass("animateFlipInX").removeClass("animated flipInX"),$("#page-"+i+" .animateFlipInY").removeClass("animateFlipInY").removeClass("animated flipInY"),$("#page-"+i+" .animateBounceInLeft").removeClass("animateBounceInLeft").removeClass("animated bounceInLeft"),$("#page-"+i+" .animateBounceInRight").removeClass("animateBounceInRight").removeClass("animated bounceInRight")},1e3),$("#page-2").is(":visible")&&(
// skills
t.$skillWidgets.html(""),//removing already generated circle
t.$skillWidgets.circliful())}}),i()}}}();
/**
     * Our application module - manages all the elements in all pages
     */
//init app
(function(){$("html");var e=$(window),i=$("html, body"),o=$(document),n=$(".cover"),s=$(".header-top-area"),a=$("a.smoth-scroll"),r=$(".work-inner"),l=$(".work-popup"),f=$(".testimonial-list"),c=$(".navbar-collapse.in"),p=$(".grid"),h=$(".fil-cat"),d=$(".lrs-projects"),u=$(".lrs-project"),g=function(t){
//smooth scroll
a.on("click",function(t){var e=$(this);i.stop().animate({scrollTop:$(e.attr("href")).offset().top-50},1e3),t.preventDefault()}),
//stellar parallax effects
e.stellar({responsive:!0,positionProperty:"position",horizontalScrolling:!1}),
//work section
r.mixItUp(),
//portfolio item popup
l.magnificPopup({type:"image",removalDelay:300,mainClass:"mfp-with-zoom",gallery:{enabled:!0},zoom:{enabled:!0,// By default it's false, so don't forget to enable it
duration:300,// duration of the effect, in milliseconds
easing:"ease-in-out",// CSS transition easing function
// The "opener" function should return the element from which popup will be zoomed in
// and to which popup will be scaled down
// By defailt it looks for an image tag:
opener:function(t){
// openerElement is the element on which popup was initialized, in this case its <a> tag
// you don't need to add "opener" option if this code matches your needs, it's defailt one.
return t.is("img")?t:t.find("img")}}}),
//testimonials
f.owlCarousel({items:1,autoPlay:!0,navigation:!1,itemsDesktop:[1199,1],itemsDesktopSmall:[980,1],itemsTablet:[768,1],itemsTabletSmall:!1,itemsMobile:[479,1],pagination:!0,autoHeight:!0}),
//navbar - small device
c.on("click",function(t){$(t.target).is("a")&&"dropdown-toggle"!=$(t.target).attr("class")&&$(this).collapse("hide")}),
//activate menu item based on scrolled section
i.scrollspy({target:".navbar-collapse",offset:195}),
//portfolio
function(){
//massonary - portfolio
p.masonry({
// set itemSelector so .grid-sizer is not used in layout
itemSelector:".grid-item",
// use element for option
columnWidth:".grid-sizer",percentPosition:!0});
//activate filters
var t="";h.on("click",function(){h.removeClass("active"),$(this).addClass("active"),t=$(this).attr("data-rel"),d.fadeTo(100,.1),u.not("."+t).fadeOut().removeClass("scale-anm"),setTimeout(function(){$("."+t).fadeIn().addClass("scale-anm"),d.fadeTo(300,1)},300)})}
//on document ready callback function
(),
//tooltip
$('[data-toggle="tooltip"]').tooltip(),
//popover
$('[data-toggle="popover"]').popover({trigger:"hover",html:!0,placement:"top",content:function(){return"<img class='img-responsive' src='"+$(this).data("imageUrl")+"'><span>Popover content, lorem ipsum dolor sit amet, consectetur adipiscing elit</span>"}})},m=function(t){
// preloader - handling
n.delay(1e3).fadeOut(2e3)},v=function(t){
//header
e.scrollTop()>200?s.addClass("menu-bg"):s.removeClass("menu-bg")};return{init:function(){o.on("ready",g),e.on("load",m),e.on("scroll",v),
//init page app
t.init()}}})().init()}()},{}]},{},[1])
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJzb3VyY2UvYXNzZXRzL2phdmFzY3JpcHRzL2FsbC5qcyIsInNvdXJjZS9hc3NldHMvamF2YXNjcmlwdHMvYXBwLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FDQUE7QUFDQTs7QUNEQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uIGUodCxuLHIpe2Z1bmN0aW9uIHMobyx1KXtpZighbltvXSl7aWYoIXRbb10pe3ZhciBhPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7aWYoIXUmJmEpcmV0dXJuIGEobywhMCk7aWYoaSlyZXR1cm4gaShvLCEwKTt2YXIgZj1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK28rXCInXCIpO3Rocm93IGYuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixmfXZhciBsPW5bb109e2V4cG9ydHM6e319O3Rbb11bMF0uY2FsbChsLmV4cG9ydHMsZnVuY3Rpb24oZSl7dmFyIG49dFtvXVsxXVtlXTtyZXR1cm4gcyhuP246ZSl9LGwsbC5leHBvcnRzLGUsdCxuLHIpfXJldHVybiBuW29dLmV4cG9ydHN9dmFyIGk9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtmb3IodmFyIG89MDtvPHIubGVuZ3RoO28rKylzKHJbb10pO3JldHVybiBzfSkiLCJyZXF1aXJlKCcuL2FwcC5qcycpO1xuIiwiXG4vKiEgU3RlbGxhci5qcyB2MC42LjIgfCBDb3B5cmlnaHQgMjAxMywgTWFyayBEYWxnbGVpc2ggfCBodHRwOi8vbWFya2RhbGdsZWlzaC5jb20vcHJvamVjdHMvc3RlbGxhci5qcyB8IGh0dHA6Ly9tYXJrZGFsZ2xlaXNoLm1pdC1saWNlbnNlLm9yZyAqL1xuKGZ1bmN0aW9uKGUsdCxuLHIpe2Z1bmN0aW9uIGQodCxuKXt0aGlzLmVsZW1lbnQ9dCx0aGlzLm9wdGlvbnM9ZS5leHRlbmQoe30scyxuKSx0aGlzLl9kZWZhdWx0cz1zLHRoaXMuX25hbWU9aSx0aGlzLmluaXQoKX12YXIgaT1cInN0ZWxsYXJcIixzPXtzY3JvbGxQcm9wZXJ0eTpcInNjcm9sbFwiLHBvc2l0aW9uUHJvcGVydHk6XCJwb3NpdGlvblwiLGhvcml6b250YWxTY3JvbGxpbmc6ITAsdmVydGljYWxTY3JvbGxpbmc6ITAsaG9yaXpvbnRhbE9mZnNldDowLHZlcnRpY2FsT2Zmc2V0OjAscmVzcG9uc2l2ZTohMSxwYXJhbGxheEJhY2tncm91bmRzOiEwLHBhcmFsbGF4RWxlbWVudHM6ITAsaGlkZURpc3RhbnRFbGVtZW50czohMCxoaWRlRWxlbWVudDpmdW5jdGlvbihlKXtlLmhpZGUoKX0sc2hvd0VsZW1lbnQ6ZnVuY3Rpb24oZSl7ZS5zaG93KCl9fSxvPXtzY3JvbGw6e2dldExlZnQ6ZnVuY3Rpb24oZSl7cmV0dXJuIGUuc2Nyb2xsTGVmdCgpfSxzZXRMZWZ0OmZ1bmN0aW9uKGUsdCl7ZS5zY3JvbGxMZWZ0KHQpfSxnZXRUb3A6ZnVuY3Rpb24oZSl7cmV0dXJuIGUuc2Nyb2xsVG9wKCl9LHNldFRvcDpmdW5jdGlvbihlLHQpe2Uuc2Nyb2xsVG9wKHQpfX0scG9zaXRpb246e2dldExlZnQ6ZnVuY3Rpb24oZSl7cmV0dXJuIHBhcnNlSW50KGUuY3NzKFwibGVmdFwiKSwxMCkqLTF9LGdldFRvcDpmdW5jdGlvbihlKXtyZXR1cm4gcGFyc2VJbnQoZS5jc3MoXCJ0b3BcIiksMTApKi0xfX0sbWFyZ2luOntnZXRMZWZ0OmZ1bmN0aW9uKGUpe3JldHVybiBwYXJzZUludChlLmNzcyhcIm1hcmdpbi1sZWZ0XCIpLDEwKSotMX0sZ2V0VG9wOmZ1bmN0aW9uKGUpe3JldHVybiBwYXJzZUludChlLmNzcyhcIm1hcmdpbi10b3BcIiksMTApKi0xfX0sdHJhbnNmb3JtOntnZXRMZWZ0OmZ1bmN0aW9uKGUpe3ZhciB0PWdldENvbXB1dGVkU3R5bGUoZVswXSlbZl07cmV0dXJuIHQhPT1cIm5vbmVcIj9wYXJzZUludCh0Lm1hdGNoKC8oLT9bMC05XSspL2cpWzRdLDEwKSotMTowfSxnZXRUb3A6ZnVuY3Rpb24oZSl7dmFyIHQ9Z2V0Q29tcHV0ZWRTdHlsZShlWzBdKVtmXTtyZXR1cm4gdCE9PVwibm9uZVwiP3BhcnNlSW50KHQubWF0Y2goLygtP1swLTldKykvZylbNV0sMTApKi0xOjB9fX0sdT17cG9zaXRpb246e3NldExlZnQ6ZnVuY3Rpb24oZSx0KXtlLmNzcyhcImxlZnRcIix0KX0sc2V0VG9wOmZ1bmN0aW9uKGUsdCl7ZS5jc3MoXCJ0b3BcIix0KX19LHRyYW5zZm9ybTp7c2V0UG9zaXRpb246ZnVuY3Rpb24oZSx0LG4scixpKXtlWzBdLnN0eWxlW2ZdPVwidHJhbnNsYXRlM2QoXCIrKHQtbikrXCJweCwgXCIrKHItaSkrXCJweCwgMClcIn19fSxhPWZ1bmN0aW9uKCl7dmFyIHQ9L14oTW96fFdlYmtpdHxLaHRtbHxPfG1zfEljYWIpKD89W0EtWl0pLyxuPWUoXCJzY3JpcHRcIilbMF0uc3R5bGUscj1cIlwiLGk7Zm9yKGkgaW4gbilpZih0LnRlc3QoaSkpe3I9aS5tYXRjaCh0KVswXTticmVha31yZXR1cm5cIldlYmtpdE9wYWNpdHlcImluIG4mJihyPVwiV2Via2l0XCIpLFwiS2h0bWxPcGFjaXR5XCJpbiBuJiYocj1cIktodG1sXCIpLGZ1bmN0aW9uKGUpe3JldHVybiByKyhyLmxlbmd0aD4wP2UuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkrZS5zbGljZSgxKTplKX19KCksZj1hKFwidHJhbnNmb3JtXCIpLGw9ZShcIjxkaXYgLz5cIix7c3R5bGU6XCJiYWNrZ3JvdW5kOiNmZmZcIn0pLmNzcyhcImJhY2tncm91bmQtcG9zaXRpb24teFwiKSE9PXIsYz1sP2Z1bmN0aW9uKGUsdCxuKXtlLmNzcyh7XCJiYWNrZ3JvdW5kLXBvc2l0aW9uLXhcIjp0LFwiYmFja2dyb3VuZC1wb3NpdGlvbi15XCI6bn0pfTpmdW5jdGlvbihlLHQsbil7ZS5jc3MoXCJiYWNrZ3JvdW5kLXBvc2l0aW9uXCIsdCtcIiBcIituKX0saD1sP2Z1bmN0aW9uKGUpe3JldHVybltlLmNzcyhcImJhY2tncm91bmQtcG9zaXRpb24teFwiKSxlLmNzcyhcImJhY2tncm91bmQtcG9zaXRpb24teVwiKV19OmZ1bmN0aW9uKGUpe3JldHVybiBlLmNzcyhcImJhY2tncm91bmQtcG9zaXRpb25cIikuc3BsaXQoXCIgXCIpfSxwPXQucmVxdWVzdEFuaW1hdGlvbkZyYW1lfHx0LndlYmtpdFJlcXVlc3RBbmltYXRpb25GcmFtZXx8dC5tb3pSZXF1ZXN0QW5pbWF0aW9uRnJhbWV8fHQub1JlcXVlc3RBbmltYXRpb25GcmFtZXx8dC5tc1JlcXVlc3RBbmltYXRpb25GcmFtZXx8ZnVuY3Rpb24oZSl7c2V0VGltZW91dChlLDFlMy82MCl9O2QucHJvdG90eXBlPXtpbml0OmZ1bmN0aW9uKCl7dGhpcy5vcHRpb25zLm5hbWU9aStcIl9cIitNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkqMWU5KSx0aGlzLl9kZWZpbmVFbGVtZW50cygpLHRoaXMuX2RlZmluZUdldHRlcnMoKSx0aGlzLl9kZWZpbmVTZXR0ZXJzKCksdGhpcy5faGFuZGxlV2luZG93TG9hZEFuZFJlc2l6ZSgpLHRoaXMuX2RldGVjdFZpZXdwb3J0KCksdGhpcy5yZWZyZXNoKHtmaXJzdExvYWQ6ITB9KSx0aGlzLm9wdGlvbnMuc2Nyb2xsUHJvcGVydHk9PT1cInNjcm9sbFwiP3RoaXMuX2hhbmRsZVNjcm9sbEV2ZW50KCk6dGhpcy5fc3RhcnRBbmltYXRpb25Mb29wKCl9LF9kZWZpbmVFbGVtZW50czpmdW5jdGlvbigpe3RoaXMuZWxlbWVudD09PW4uYm9keSYmKHRoaXMuZWxlbWVudD10KSx0aGlzLiRzY3JvbGxFbGVtZW50PWUodGhpcy5lbGVtZW50KSx0aGlzLiRlbGVtZW50PXRoaXMuZWxlbWVudD09PXQ/ZShcImJvZHlcIik6dGhpcy4kc2Nyb2xsRWxlbWVudCx0aGlzLiR2aWV3cG9ydEVsZW1lbnQ9dGhpcy5vcHRpb25zLnZpZXdwb3J0RWxlbWVudCE9PXI/ZSh0aGlzLm9wdGlvbnMudmlld3BvcnRFbGVtZW50KTp0aGlzLiRzY3JvbGxFbGVtZW50WzBdPT09dHx8dGhpcy5vcHRpb25zLnNjcm9sbFByb3BlcnR5PT09XCJzY3JvbGxcIj90aGlzLiRzY3JvbGxFbGVtZW50OnRoaXMuJHNjcm9sbEVsZW1lbnQucGFyZW50KCl9LF9kZWZpbmVHZXR0ZXJzOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcyx0PW9bZS5vcHRpb25zLnNjcm9sbFByb3BlcnR5XTt0aGlzLl9nZXRTY3JvbGxMZWZ0PWZ1bmN0aW9uKCl7cmV0dXJuIHQuZ2V0TGVmdChlLiRzY3JvbGxFbGVtZW50KX0sdGhpcy5fZ2V0U2Nyb2xsVG9wPWZ1bmN0aW9uKCl7cmV0dXJuIHQuZ2V0VG9wKGUuJHNjcm9sbEVsZW1lbnQpfX0sX2RlZmluZVNldHRlcnM6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLG49b1t0Lm9wdGlvbnMuc2Nyb2xsUHJvcGVydHldLHI9dVt0Lm9wdGlvbnMucG9zaXRpb25Qcm9wZXJ0eV0saT1uLnNldExlZnQscz1uLnNldFRvcDt0aGlzLl9zZXRTY3JvbGxMZWZ0PXR5cGVvZiBpPT1cImZ1bmN0aW9uXCI/ZnVuY3Rpb24oZSl7aSh0LiRzY3JvbGxFbGVtZW50LGUpfTplLm5vb3AsdGhpcy5fc2V0U2Nyb2xsVG9wPXR5cGVvZiBzPT1cImZ1bmN0aW9uXCI/ZnVuY3Rpb24oZSl7cyh0LiRzY3JvbGxFbGVtZW50LGUpfTplLm5vb3AsdGhpcy5fc2V0UG9zaXRpb249ci5zZXRQb3NpdGlvbnx8ZnVuY3Rpb24oZSxuLGkscyxvKXt0Lm9wdGlvbnMuaG9yaXpvbnRhbFNjcm9sbGluZyYmci5zZXRMZWZ0KGUsbixpKSx0Lm9wdGlvbnMudmVydGljYWxTY3JvbGxpbmcmJnIuc2V0VG9wKGUscyxvKX19LF9oYW5kbGVXaW5kb3dMb2FkQW5kUmVzaXplOmZ1bmN0aW9uKCl7dmFyIG49dGhpcyxyPWUodCk7bi5vcHRpb25zLnJlc3BvbnNpdmUmJnIuYmluZChcImxvYWQuXCIrdGhpcy5uYW1lLGZ1bmN0aW9uKCl7bi5yZWZyZXNoKCl9KSxyLmJpbmQoXCJyZXNpemUuXCIrdGhpcy5uYW1lLGZ1bmN0aW9uKCl7bi5fZGV0ZWN0Vmlld3BvcnQoKSxuLm9wdGlvbnMucmVzcG9uc2l2ZSYmbi5yZWZyZXNoKCl9KX0scmVmcmVzaDpmdW5jdGlvbihuKXt2YXIgcj10aGlzLGk9ci5fZ2V0U2Nyb2xsTGVmdCgpLHM9ci5fZ2V0U2Nyb2xsVG9wKCk7KCFufHwhbi5maXJzdExvYWQpJiZ0aGlzLl9yZXNldCgpLHRoaXMuX3NldFNjcm9sbExlZnQoMCksdGhpcy5fc2V0U2Nyb2xsVG9wKDApLHRoaXMuX3NldE9mZnNldHMoKSx0aGlzLl9maW5kUGFydGljbGVzKCksdGhpcy5fZmluZEJhY2tncm91bmRzKCksbiYmbi5maXJzdExvYWQmJi9XZWJLaXQvLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCkmJmUodCkubG9hZChmdW5jdGlvbigpe3ZhciBlPXIuX2dldFNjcm9sbExlZnQoKSx0PXIuX2dldFNjcm9sbFRvcCgpO3IuX3NldFNjcm9sbExlZnQoZSsxKSxyLl9zZXRTY3JvbGxUb3AodCsxKSxyLl9zZXRTY3JvbGxMZWZ0KGUpLHIuX3NldFNjcm9sbFRvcCh0KX0pLHRoaXMuX3NldFNjcm9sbExlZnQoaSksdGhpcy5fc2V0U2Nyb2xsVG9wKHMpfSxfZGV0ZWN0Vmlld3BvcnQ6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLiR2aWV3cG9ydEVsZW1lbnQub2Zmc2V0KCksdD1lIT09bnVsbCYmZSE9PXI7dGhpcy52aWV3cG9ydFdpZHRoPXRoaXMuJHZpZXdwb3J0RWxlbWVudC53aWR0aCgpLHRoaXMudmlld3BvcnRIZWlnaHQ9dGhpcy4kdmlld3BvcnRFbGVtZW50LmhlaWdodCgpLHRoaXMudmlld3BvcnRPZmZzZXRUb3A9dD9lLnRvcDowLHRoaXMudmlld3BvcnRPZmZzZXRMZWZ0PXQ/ZS5sZWZ0OjB9LF9maW5kUGFydGljbGVzOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcyxuPXRoaXMuX2dldFNjcm9sbExlZnQoKSxpPXRoaXMuX2dldFNjcm9sbFRvcCgpO2lmKHRoaXMucGFydGljbGVzIT09cilmb3IodmFyIHM9dGhpcy5wYXJ0aWNsZXMubGVuZ3RoLTE7cz49MDtzLS0pdGhpcy5wYXJ0aWNsZXNbc10uJGVsZW1lbnQuZGF0YShcInN0ZWxsYXItZWxlbWVudElzQWN0aXZlXCIscik7dGhpcy5wYXJ0aWNsZXM9W107aWYoIXRoaXMub3B0aW9ucy5wYXJhbGxheEVsZW1lbnRzKXJldHVybjt0aGlzLiRlbGVtZW50LmZpbmQoXCJbZGF0YS1zdGVsbGFyLXJhdGlvXVwiKS5lYWNoKGZ1bmN0aW9uKG4pe3ZhciBpPWUodGhpcykscyxvLHUsYSxmLGwsYyxoLHAsZD0wLHY9MCxtPTAsZz0wO2lmKCFpLmRhdGEoXCJzdGVsbGFyLWVsZW1lbnRJc0FjdGl2ZVwiKSlpLmRhdGEoXCJzdGVsbGFyLWVsZW1lbnRJc0FjdGl2ZVwiLHRoaXMpO2Vsc2UgaWYoaS5kYXRhKFwic3RlbGxhci1lbGVtZW50SXNBY3RpdmVcIikhPT10aGlzKXJldHVybjt0Lm9wdGlvbnMuc2hvd0VsZW1lbnQoaSksaS5kYXRhKFwic3RlbGxhci1zdGFydGluZ0xlZnRcIik/KGkuY3NzKFwibGVmdFwiLGkuZGF0YShcInN0ZWxsYXItc3RhcnRpbmdMZWZ0XCIpKSxpLmNzcyhcInRvcFwiLGkuZGF0YShcInN0ZWxsYXItc3RhcnRpbmdUb3BcIikpKTooaS5kYXRhKFwic3RlbGxhci1zdGFydGluZ0xlZnRcIixpLmNzcyhcImxlZnRcIikpLGkuZGF0YShcInN0ZWxsYXItc3RhcnRpbmdUb3BcIixpLmNzcyhcInRvcFwiKSkpLHU9aS5wb3NpdGlvbigpLmxlZnQsYT1pLnBvc2l0aW9uKCkudG9wLGY9aS5jc3MoXCJtYXJnaW4tbGVmdFwiKT09PVwiYXV0b1wiPzA6cGFyc2VJbnQoaS5jc3MoXCJtYXJnaW4tbGVmdFwiKSwxMCksbD1pLmNzcyhcIm1hcmdpbi10b3BcIik9PT1cImF1dG9cIj8wOnBhcnNlSW50KGkuY3NzKFwibWFyZ2luLXRvcFwiKSwxMCksaD1pLm9mZnNldCgpLmxlZnQtZixwPWkub2Zmc2V0KCkudG9wLWwsaS5wYXJlbnRzKCkuZWFjaChmdW5jdGlvbigpe3ZhciB0PWUodGhpcyk7aWYodC5kYXRhKFwic3RlbGxhci1vZmZzZXQtcGFyZW50XCIpPT09ITApcmV0dXJuIGQ9bSx2PWcsYz10LCExO20rPXQucG9zaXRpb24oKS5sZWZ0LGcrPXQucG9zaXRpb24oKS50b3B9KSxzPWkuZGF0YShcInN0ZWxsYXItaG9yaXpvbnRhbC1vZmZzZXRcIikhPT1yP2kuZGF0YShcInN0ZWxsYXItaG9yaXpvbnRhbC1vZmZzZXRcIik6YyE9PXImJmMuZGF0YShcInN0ZWxsYXItaG9yaXpvbnRhbC1vZmZzZXRcIikhPT1yP2MuZGF0YShcInN0ZWxsYXItaG9yaXpvbnRhbC1vZmZzZXRcIik6dC5ob3Jpem9udGFsT2Zmc2V0LG89aS5kYXRhKFwic3RlbGxhci12ZXJ0aWNhbC1vZmZzZXRcIikhPT1yP2kuZGF0YShcInN0ZWxsYXItdmVydGljYWwtb2Zmc2V0XCIpOmMhPT1yJiZjLmRhdGEoXCJzdGVsbGFyLXZlcnRpY2FsLW9mZnNldFwiKSE9PXI/Yy5kYXRhKFwic3RlbGxhci12ZXJ0aWNhbC1vZmZzZXRcIik6dC52ZXJ0aWNhbE9mZnNldCx0LnBhcnRpY2xlcy5wdXNoKHskZWxlbWVudDppLCRvZmZzZXRQYXJlbnQ6Yyxpc0ZpeGVkOmkuY3NzKFwicG9zaXRpb25cIik9PT1cImZpeGVkXCIsaG9yaXpvbnRhbE9mZnNldDpzLHZlcnRpY2FsT2Zmc2V0Om8sc3RhcnRpbmdQb3NpdGlvbkxlZnQ6dSxzdGFydGluZ1Bvc2l0aW9uVG9wOmEsc3RhcnRpbmdPZmZzZXRMZWZ0Omgsc3RhcnRpbmdPZmZzZXRUb3A6cCxwYXJlbnRPZmZzZXRMZWZ0OmQscGFyZW50T2Zmc2V0VG9wOnYsc3RlbGxhclJhdGlvOmkuZGF0YShcInN0ZWxsYXItcmF0aW9cIikhPT1yP2kuZGF0YShcInN0ZWxsYXItcmF0aW9cIik6MSx3aWR0aDppLm91dGVyV2lkdGgoITApLGhlaWdodDppLm91dGVySGVpZ2h0KCEwKSxpc0hpZGRlbjohMX0pfSl9LF9maW5kQmFja2dyb3VuZHM6ZnVuY3Rpb24oKXt2YXIgdD10aGlzLG49dGhpcy5fZ2V0U2Nyb2xsTGVmdCgpLGk9dGhpcy5fZ2V0U2Nyb2xsVG9wKCksczt0aGlzLmJhY2tncm91bmRzPVtdO2lmKCF0aGlzLm9wdGlvbnMucGFyYWxsYXhCYWNrZ3JvdW5kcylyZXR1cm47cz10aGlzLiRlbGVtZW50LmZpbmQoXCJbZGF0YS1zdGVsbGFyLWJhY2tncm91bmQtcmF0aW9dXCIpLHRoaXMuJGVsZW1lbnQuZGF0YShcInN0ZWxsYXItYmFja2dyb3VuZC1yYXRpb1wiKSYmKHM9cy5hZGQodGhpcy4kZWxlbWVudCkpLHMuZWFjaChmdW5jdGlvbigpe3ZhciBzPWUodGhpcyksbz1oKHMpLHUsYSxmLGwscCxkLHYsbSxnLHk9MCxiPTAsdz0wLEU9MDtpZighcy5kYXRhKFwic3RlbGxhci1iYWNrZ3JvdW5kSXNBY3RpdmVcIikpcy5kYXRhKFwic3RlbGxhci1iYWNrZ3JvdW5kSXNBY3RpdmVcIix0aGlzKTtlbHNlIGlmKHMuZGF0YShcInN0ZWxsYXItYmFja2dyb3VuZElzQWN0aXZlXCIpIT09dGhpcylyZXR1cm47cy5kYXRhKFwic3RlbGxhci1iYWNrZ3JvdW5kU3RhcnRpbmdMZWZ0XCIpP2MocyxzLmRhdGEoXCJzdGVsbGFyLWJhY2tncm91bmRTdGFydGluZ0xlZnRcIikscy5kYXRhKFwic3RlbGxhci1iYWNrZ3JvdW5kU3RhcnRpbmdUb3BcIikpOihzLmRhdGEoXCJzdGVsbGFyLWJhY2tncm91bmRTdGFydGluZ0xlZnRcIixvWzBdKSxzLmRhdGEoXCJzdGVsbGFyLWJhY2tncm91bmRTdGFydGluZ1RvcFwiLG9bMV0pKSxwPXMuY3NzKFwibWFyZ2luLWxlZnRcIik9PT1cImF1dG9cIj8wOnBhcnNlSW50KHMuY3NzKFwibWFyZ2luLWxlZnRcIiksMTApLGQ9cy5jc3MoXCJtYXJnaW4tdG9wXCIpPT09XCJhdXRvXCI/MDpwYXJzZUludChzLmNzcyhcIm1hcmdpbi10b3BcIiksMTApLHY9cy5vZmZzZXQoKS5sZWZ0LXAtbixtPXMub2Zmc2V0KCkudG9wLWQtaSxzLnBhcmVudHMoKS5lYWNoKGZ1bmN0aW9uKCl7dmFyIHQ9ZSh0aGlzKTtpZih0LmRhdGEoXCJzdGVsbGFyLW9mZnNldC1wYXJlbnRcIik9PT0hMClyZXR1cm4geT13LGI9RSxnPXQsITE7dys9dC5wb3NpdGlvbigpLmxlZnQsRSs9dC5wb3NpdGlvbigpLnRvcH0pLHU9cy5kYXRhKFwic3RlbGxhci1ob3Jpem9udGFsLW9mZnNldFwiKSE9PXI/cy5kYXRhKFwic3RlbGxhci1ob3Jpem9udGFsLW9mZnNldFwiKTpnIT09ciYmZy5kYXRhKFwic3RlbGxhci1ob3Jpem9udGFsLW9mZnNldFwiKSE9PXI/Zy5kYXRhKFwic3RlbGxhci1ob3Jpem9udGFsLW9mZnNldFwiKTp0Lmhvcml6b250YWxPZmZzZXQsYT1zLmRhdGEoXCJzdGVsbGFyLXZlcnRpY2FsLW9mZnNldFwiKSE9PXI/cy5kYXRhKFwic3RlbGxhci12ZXJ0aWNhbC1vZmZzZXRcIik6ZyE9PXImJmcuZGF0YShcInN0ZWxsYXItdmVydGljYWwtb2Zmc2V0XCIpIT09cj9nLmRhdGEoXCJzdGVsbGFyLXZlcnRpY2FsLW9mZnNldFwiKTp0LnZlcnRpY2FsT2Zmc2V0LHQuYmFja2dyb3VuZHMucHVzaCh7JGVsZW1lbnQ6cywkb2Zmc2V0UGFyZW50OmcsaXNGaXhlZDpzLmNzcyhcImJhY2tncm91bmQtYXR0YWNobWVudFwiKT09PVwiZml4ZWRcIixob3Jpem9udGFsT2Zmc2V0OnUsdmVydGljYWxPZmZzZXQ6YSxzdGFydGluZ1ZhbHVlTGVmdDpvWzBdLHN0YXJ0aW5nVmFsdWVUb3A6b1sxXSxzdGFydGluZ0JhY2tncm91bmRQb3NpdGlvbkxlZnQ6aXNOYU4ocGFyc2VJbnQob1swXSwxMCkpPzA6cGFyc2VJbnQob1swXSwxMCksc3RhcnRpbmdCYWNrZ3JvdW5kUG9zaXRpb25Ub3A6aXNOYU4ocGFyc2VJbnQob1sxXSwxMCkpPzA6cGFyc2VJbnQob1sxXSwxMCksc3RhcnRpbmdQb3NpdGlvbkxlZnQ6cy5wb3NpdGlvbigpLmxlZnQsc3RhcnRpbmdQb3NpdGlvblRvcDpzLnBvc2l0aW9uKCkudG9wLHN0YXJ0aW5nT2Zmc2V0TGVmdDp2LHN0YXJ0aW5nT2Zmc2V0VG9wOm0scGFyZW50T2Zmc2V0TGVmdDp5LHBhcmVudE9mZnNldFRvcDpiLHN0ZWxsYXJSYXRpbzpzLmRhdGEoXCJzdGVsbGFyLWJhY2tncm91bmQtcmF0aW9cIik9PT1yPzE6cy5kYXRhKFwic3RlbGxhci1iYWNrZ3JvdW5kLXJhdGlvXCIpfSl9KX0sX3Jlc2V0OmZ1bmN0aW9uKCl7dmFyIGUsdCxuLHIsaTtmb3IoaT10aGlzLnBhcnRpY2xlcy5sZW5ndGgtMTtpPj0wO2ktLSllPXRoaXMucGFydGljbGVzW2ldLHQ9ZS4kZWxlbWVudC5kYXRhKFwic3RlbGxhci1zdGFydGluZ0xlZnRcIiksbj1lLiRlbGVtZW50LmRhdGEoXCJzdGVsbGFyLXN0YXJ0aW5nVG9wXCIpLHRoaXMuX3NldFBvc2l0aW9uKGUuJGVsZW1lbnQsdCx0LG4sbiksdGhpcy5vcHRpb25zLnNob3dFbGVtZW50KGUuJGVsZW1lbnQpLGUuJGVsZW1lbnQuZGF0YShcInN0ZWxsYXItc3RhcnRpbmdMZWZ0XCIsbnVsbCkuZGF0YShcInN0ZWxsYXItZWxlbWVudElzQWN0aXZlXCIsbnVsbCkuZGF0YShcInN0ZWxsYXItYmFja2dyb3VuZElzQWN0aXZlXCIsbnVsbCk7Zm9yKGk9dGhpcy5iYWNrZ3JvdW5kcy5sZW5ndGgtMTtpPj0wO2ktLSlyPXRoaXMuYmFja2dyb3VuZHNbaV0sci4kZWxlbWVudC5kYXRhKFwic3RlbGxhci1iYWNrZ3JvdW5kU3RhcnRpbmdMZWZ0XCIsbnVsbCkuZGF0YShcInN0ZWxsYXItYmFja2dyb3VuZFN0YXJ0aW5nVG9wXCIsbnVsbCksYyhyLiRlbGVtZW50LHIuc3RhcnRpbmdWYWx1ZUxlZnQsci5zdGFydGluZ1ZhbHVlVG9wKX0sZGVzdHJveTpmdW5jdGlvbigpe3RoaXMuX3Jlc2V0KCksdGhpcy4kc2Nyb2xsRWxlbWVudC51bmJpbmQoXCJyZXNpemUuXCIrdGhpcy5uYW1lKS51bmJpbmQoXCJzY3JvbGwuXCIrdGhpcy5uYW1lKSx0aGlzLl9hbmltYXRpb25Mb29wPWUubm9vcCxlKHQpLnVuYmluZChcImxvYWQuXCIrdGhpcy5uYW1lKS51bmJpbmQoXCJyZXNpemUuXCIrdGhpcy5uYW1lKX0sX3NldE9mZnNldHM6ZnVuY3Rpb24oKXt2YXIgbj10aGlzLHI9ZSh0KTtyLnVuYmluZChcInJlc2l6ZS5ob3Jpem9udGFsLVwiK3RoaXMubmFtZSkudW5iaW5kKFwicmVzaXplLnZlcnRpY2FsLVwiK3RoaXMubmFtZSksdHlwZW9mIHRoaXMub3B0aW9ucy5ob3Jpem9udGFsT2Zmc2V0PT1cImZ1bmN0aW9uXCI/KHRoaXMuaG9yaXpvbnRhbE9mZnNldD10aGlzLm9wdGlvbnMuaG9yaXpvbnRhbE9mZnNldCgpLHIuYmluZChcInJlc2l6ZS5ob3Jpem9udGFsLVwiK3RoaXMubmFtZSxmdW5jdGlvbigpe24uaG9yaXpvbnRhbE9mZnNldD1uLm9wdGlvbnMuaG9yaXpvbnRhbE9mZnNldCgpfSkpOnRoaXMuaG9yaXpvbnRhbE9mZnNldD10aGlzLm9wdGlvbnMuaG9yaXpvbnRhbE9mZnNldCx0eXBlb2YgdGhpcy5vcHRpb25zLnZlcnRpY2FsT2Zmc2V0PT1cImZ1bmN0aW9uXCI/KHRoaXMudmVydGljYWxPZmZzZXQ9dGhpcy5vcHRpb25zLnZlcnRpY2FsT2Zmc2V0KCksci5iaW5kKFwicmVzaXplLnZlcnRpY2FsLVwiK3RoaXMubmFtZSxmdW5jdGlvbigpe24udmVydGljYWxPZmZzZXQ9bi5vcHRpb25zLnZlcnRpY2FsT2Zmc2V0KCl9KSk6dGhpcy52ZXJ0aWNhbE9mZnNldD10aGlzLm9wdGlvbnMudmVydGljYWxPZmZzZXR9LF9yZXBvc2l0aW9uRWxlbWVudHM6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLl9nZXRTY3JvbGxMZWZ0KCksdD10aGlzLl9nZXRTY3JvbGxUb3AoKSxuLHIsaSxzLG8sdSxhLGY9ITAsbD0hMCxoLHAsZCx2LG07aWYodGhpcy5jdXJyZW50U2Nyb2xsTGVmdD09PWUmJnRoaXMuY3VycmVudFNjcm9sbFRvcD09PXQmJnRoaXMuY3VycmVudFdpZHRoPT09dGhpcy52aWV3cG9ydFdpZHRoJiZ0aGlzLmN1cnJlbnRIZWlnaHQ9PT10aGlzLnZpZXdwb3J0SGVpZ2h0KXJldHVybjt0aGlzLmN1cnJlbnRTY3JvbGxMZWZ0PWUsdGhpcy5jdXJyZW50U2Nyb2xsVG9wPXQsdGhpcy5jdXJyZW50V2lkdGg9dGhpcy52aWV3cG9ydFdpZHRoLHRoaXMuY3VycmVudEhlaWdodD10aGlzLnZpZXdwb3J0SGVpZ2h0O2ZvcihtPXRoaXMucGFydGljbGVzLmxlbmd0aC0xO20+PTA7bS0tKWk9dGhpcy5wYXJ0aWNsZXNbbV0scz1pLmlzRml4ZWQ/MTowLHRoaXMub3B0aW9ucy5ob3Jpem9udGFsU2Nyb2xsaW5nPyhoPShlK2kuaG9yaXpvbnRhbE9mZnNldCt0aGlzLnZpZXdwb3J0T2Zmc2V0TGVmdCtpLnN0YXJ0aW5nUG9zaXRpb25MZWZ0LWkuc3RhcnRpbmdPZmZzZXRMZWZ0K2kucGFyZW50T2Zmc2V0TGVmdCkqLShpLnN0ZWxsYXJSYXRpbytzLTEpK2kuc3RhcnRpbmdQb3NpdGlvbkxlZnQsZD1oLWkuc3RhcnRpbmdQb3NpdGlvbkxlZnQraS5zdGFydGluZ09mZnNldExlZnQpOihoPWkuc3RhcnRpbmdQb3NpdGlvbkxlZnQsZD1pLnN0YXJ0aW5nT2Zmc2V0TGVmdCksdGhpcy5vcHRpb25zLnZlcnRpY2FsU2Nyb2xsaW5nPyhwPSh0K2kudmVydGljYWxPZmZzZXQrdGhpcy52aWV3cG9ydE9mZnNldFRvcCtpLnN0YXJ0aW5nUG9zaXRpb25Ub3AtaS5zdGFydGluZ09mZnNldFRvcCtpLnBhcmVudE9mZnNldFRvcCkqLShpLnN0ZWxsYXJSYXRpbytzLTEpK2kuc3RhcnRpbmdQb3NpdGlvblRvcCx2PXAtaS5zdGFydGluZ1Bvc2l0aW9uVG9wK2kuc3RhcnRpbmdPZmZzZXRUb3ApOihwPWkuc3RhcnRpbmdQb3NpdGlvblRvcCx2PWkuc3RhcnRpbmdPZmZzZXRUb3ApLHRoaXMub3B0aW9ucy5oaWRlRGlzdGFudEVsZW1lbnRzJiYobD0hdGhpcy5vcHRpb25zLmhvcml6b250YWxTY3JvbGxpbmd8fGQraS53aWR0aD4oaS5pc0ZpeGVkPzA6ZSkmJmQ8KGkuaXNGaXhlZD8wOmUpK3RoaXMudmlld3BvcnRXaWR0aCt0aGlzLnZpZXdwb3J0T2Zmc2V0TGVmdCxmPSF0aGlzLm9wdGlvbnMudmVydGljYWxTY3JvbGxpbmd8fHYraS5oZWlnaHQ+KGkuaXNGaXhlZD8wOnQpJiZ2PChpLmlzRml4ZWQ/MDp0KSt0aGlzLnZpZXdwb3J0SGVpZ2h0K3RoaXMudmlld3BvcnRPZmZzZXRUb3ApLGwmJmY/KGkuaXNIaWRkZW4mJih0aGlzLm9wdGlvbnMuc2hvd0VsZW1lbnQoaS4kZWxlbWVudCksaS5pc0hpZGRlbj0hMSksdGhpcy5fc2V0UG9zaXRpb24oaS4kZWxlbWVudCxoLGkuc3RhcnRpbmdQb3NpdGlvbkxlZnQscCxpLnN0YXJ0aW5nUG9zaXRpb25Ub3ApKTppLmlzSGlkZGVufHwodGhpcy5vcHRpb25zLmhpZGVFbGVtZW50KGkuJGVsZW1lbnQpLGkuaXNIaWRkZW49ITApO2ZvcihtPXRoaXMuYmFja2dyb3VuZHMubGVuZ3RoLTE7bT49MDttLS0pbz10aGlzLmJhY2tncm91bmRzW21dLHM9by5pc0ZpeGVkPzA6MSx1PXRoaXMub3B0aW9ucy5ob3Jpem9udGFsU2Nyb2xsaW5nPyhlK28uaG9yaXpvbnRhbE9mZnNldC10aGlzLnZpZXdwb3J0T2Zmc2V0TGVmdC1vLnN0YXJ0aW5nT2Zmc2V0TGVmdCtvLnBhcmVudE9mZnNldExlZnQtby5zdGFydGluZ0JhY2tncm91bmRQb3NpdGlvbkxlZnQpKihzLW8uc3RlbGxhclJhdGlvKStcInB4XCI6by5zdGFydGluZ1ZhbHVlTGVmdCxhPXRoaXMub3B0aW9ucy52ZXJ0aWNhbFNjcm9sbGluZz8odCtvLnZlcnRpY2FsT2Zmc2V0LXRoaXMudmlld3BvcnRPZmZzZXRUb3Atby5zdGFydGluZ09mZnNldFRvcCtvLnBhcmVudE9mZnNldFRvcC1vLnN0YXJ0aW5nQmFja2dyb3VuZFBvc2l0aW9uVG9wKSoocy1vLnN0ZWxsYXJSYXRpbykrXCJweFwiOm8uc3RhcnRpbmdWYWx1ZVRvcCxjKG8uJGVsZW1lbnQsdSxhKX0sX2hhbmRsZVNjcm9sbEV2ZW50OmZ1bmN0aW9uKCl7dmFyIGU9dGhpcyx0PSExLG49ZnVuY3Rpb24oKXtlLl9yZXBvc2l0aW9uRWxlbWVudHMoKSx0PSExfSxyPWZ1bmN0aW9uKCl7dHx8KHAobiksdD0hMCl9O3RoaXMuJHNjcm9sbEVsZW1lbnQuYmluZChcInNjcm9sbC5cIit0aGlzLm5hbWUscikscigpfSxfc3RhcnRBbmltYXRpb25Mb29wOmZ1bmN0aW9uKCl7dmFyIGU9dGhpczt0aGlzLl9hbmltYXRpb25Mb29wPWZ1bmN0aW9uKCl7cChlLl9hbmltYXRpb25Mb29wKSxlLl9yZXBvc2l0aW9uRWxlbWVudHMoKX0sdGhpcy5fYW5pbWF0aW9uTG9vcCgpfX0sZS5mbltpXT1mdW5jdGlvbih0KXt2YXIgbj1hcmd1bWVudHM7aWYodD09PXJ8fHR5cGVvZiB0PT1cIm9iamVjdFwiKXJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXtlLmRhdGEodGhpcyxcInBsdWdpbl9cIitpKXx8ZS5kYXRhKHRoaXMsXCJwbHVnaW5fXCIraSxuZXcgZCh0aGlzLHQpKX0pO2lmKHR5cGVvZiB0PT1cInN0cmluZ1wiJiZ0WzBdIT09XCJfXCImJnQhPT1cImluaXRcIilyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIHI9ZS5kYXRhKHRoaXMsXCJwbHVnaW5fXCIraSk7ciBpbnN0YW5jZW9mIGQmJnR5cGVvZiByW3RdPT1cImZ1bmN0aW9uXCImJnJbdF0uYXBwbHkocixBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChuLDEpKSx0PT09XCJkZXN0cm95XCImJmUuZGF0YSh0aGlzLFwicGx1Z2luX1wiK2ksbnVsbCl9KX0sZVtpXT1mdW5jdGlvbihuKXt2YXIgcj1lKHQpO3JldHVybiByLnN0ZWxsYXIuYXBwbHkocixBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsMCkpfSxlW2ldLnNjcm9sbFByb3BlcnR5PW8sZVtpXS5wb3NpdGlvblByb3BlcnR5PXUsdC5TdGVsbGFyPWR9KShqUXVlcnksdGhpcyxkb2N1bWVudCk7XG4vKlxuKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5BdXRob3IgICAgICAgOiBNYW5uYXQgVGhlbWVzXG5UZW1wbGF0ZSBOYW1lOiBVbHRyYSAtIFJlc3BvbnNpdmUgUmVzdW1lICYgQ1YgVGVtcGxhdGVcblZlcnNpb24gICAgICA6IDEuMFxuKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4qL1xuLyoqXG4gKiBNYWluIEFwcGxpY2F0aW9uIEpzIFxuICovIFxuIFxuKGZ1bmN0aW9uKCkge1xuICAgIC8vIFBhZ2UgbW9kdWxlIC0gaGVscHMgdG8gbWFuYWdlIGFsbCB0aGUgcGFnZXMgYW5kIG5hdmlnYXRpb25cbiAgICB2YXIgUGFnZSA9IChmdW5jdGlvbigpIHtcbiAgICAgICAgXG4gICAgICAgIFxuICAgICAgICB2YXIgY29uZmlnID0ge1xuICAgICAgICAgICAgICAgICRib29rQmxvY2sgOiAkKCAnI2JiLWJvb2tibG9jaycgKSxcbiAgICAgICAgICAgICAgICAkbmF2TmV4dCA6ICQoICcuYmItbmF2LW5leHQnICksXG4gICAgICAgICAgICAgICAgJG5hdlByZXYgOiAkKCAnLmJiLW5hdi1wcmV2JyApLFxuICAgICAgICAgICAgICAgICRza2lsbFdpZGdldHM6ICQoJy5za2lsbC1jaXJjbGUnKSxcbiAgICAgICAgfSxcbiAgICAgICAgbWVudUNvbmZpZyA9IHtcbiAgICAgICAgICAgICRtZW51SXRlbXM6ICQoXCIjbWVudSBsaSBhXCIpLFxuICAgICAgICAgICAgJGFib3V0TWVudUl0ZW06ICQoXCIjYWJvdXRtZVwiKSxcbiAgICAgICAgICAgICRuYXZiYXJUb2dnbGVCdXR0b24gOiAkKCcubmF2YmFyLXRvZ2dsZTp2aXNpYmxlJyksXG4gICAgICAgICAgICAkbmF2YmFyRHJvcGRvd25NZW51OiAkKFwiI25hdi10b3BcIiksXG4gICAgICAgIH0sXG4gICAgICAgIGluaXQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgY29uZmlnLiRib29rQmxvY2suYm9va2Jsb2NrKCB7XG4gICAgICAgICAgICAgICAgICAgIHNwZWVkIDogMTAwMCxcbiAgICAgICAgICAgICAgICAgICAgc2hhZG93U2lkZXMgOiAwLjgsXG4gICAgICAgICAgICAgICAgICAgIHNoYWRvd0ZsaXAgOiAwLjQsXG4gICAgICAgICAgICAgICAgICAgIG9uRW5kRmxpcCA6IGZ1bmN0aW9uKG9sZCwgcGFnZSwgaXNMaW1pdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudCA9IHBhZ2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBBZGQgbW9yZSBhbmltYXRlIGNzcyBjbGFzc2VzLCBpZiB5b3UgYXJlIHVzaW5nIG90aGVyIGNsYXNzZXMuXG4gICAgICAgICAgICAgICAgICAgICAgICAkKFwiI3BhZ2UtXCIrcGFnZStcIiAuYW5pbWF0ZUZhZGVJbkxlZnRcIikuYWRkQ2xhc3MoJ2FuaW1hdGVkIGZhZGVJbkxlZnQnKS5zaG93KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAkKFwiI3BhZ2UtXCIrcGFnZStcIiAuYW5pbWF0ZUZhZGVJblJpZ2h0XCIpLmFkZENsYXNzKCdhbmltYXRlZCBmYWRlSW5SaWdodCcpLnNob3coKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICQoXCIjcGFnZS1cIitwYWdlK1wiIC5hbmltYXRlRmFkZUluVXBcIikuYWRkQ2xhc3MoJ2FuaW1hdGVkIGZhZGVJblVwJykuc2hvdygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgJChcIiNwYWdlLVwiK3BhZ2UrXCIgLmFuaW1hdGVGYWRlSW5Eb3duXCIpLmFkZENsYXNzKCdhbmltYXRlZCBmYWRlSW5Eb3duJykuc2hvdygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgJChcIiNwYWdlLVwiK3BhZ2UrXCIgLmFuaW1hdGVGbGlwSW5YXCIpLmFkZENsYXNzKCdhbmltYXRlZCBmbGlwSW5YJykuc2hvdygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgJChcIiNwYWdlLVwiK3BhZ2UrXCIgLmFuaW1hdGVGbGlwSW5ZXCIpLmFkZENsYXNzKCdhbmltYXRlZCBmbGlwSW5ZJykuc2hvdygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgJChcIiNwYWdlLVwiK3BhZ2UrXCIgLmFuaW1hdGVCb3VuY2VJbkxlZnRcIikuYWRkQ2xhc3MoJ2FuaW1hdGVkIGJvdW5jZUluTGVmdCcpLnNob3coKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICQoXCIjcGFnZS1cIitwYWdlK1wiIC5hbmltYXRlQm91bmNlSW5SaWdodFwiKS5hZGRDbGFzcygnYW5pbWF0ZWQgYm91bmNlSW5SaWdodCcpLnNob3coKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJChcIiNwYWdlLVwiK3BhZ2UrXCIgLmFuaW1hdGVGYWRlSW5MZWZ0XCIpLnJlbW92ZUNsYXNzKFwiYW5pbWF0ZUZhZGVJbkxlZnRcIikucmVtb3ZlQ2xhc3MoXCJhbmltYXRlZCBmYWRlSW5MZWZ0XCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoXCIjcGFnZS1cIitwYWdlK1wiIC5hbmltYXRlRmFkZUluUmlnaHRcIikucmVtb3ZlQ2xhc3MoXCJhbmltYXRlRmFkZUluUmlnaHRcIikucmVtb3ZlQ2xhc3MoXCJhbmltYXRlZCBmYWRlSW5SaWdodFwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKFwiI3BhZ2UtXCIrcGFnZStcIiAuYW5pbWF0ZUZhZGVJblVwXCIpLnJlbW92ZUNsYXNzKFwiYW5pbWF0ZUZhZGVJblVwXCIpLnJlbW92ZUNsYXNzKFwiYW5pbWF0ZWQgZmFkZUluVXBcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJChcIiNwYWdlLVwiK3BhZ2UrXCIgLmFuaW1hdGVGYWRlSW5Eb3duXCIpLnJlbW92ZUNsYXNzKFwiYW5pbWF0ZUZhZGVJbkRvd25cIikucmVtb3ZlQ2xhc3MoXCJhbmltYXRlZCBmYWRlSW5Eb3duXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoXCIjcGFnZS1cIitwYWdlK1wiIC5hbmltYXRlRmxpcEluWFwiKS5yZW1vdmVDbGFzcyhcImFuaW1hdGVGbGlwSW5YXCIpLnJlbW92ZUNsYXNzKFwiYW5pbWF0ZWQgZmxpcEluWFwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKFwiI3BhZ2UtXCIrcGFnZStcIiAuYW5pbWF0ZUZsaXBJbllcIikucmVtb3ZlQ2xhc3MoXCJhbmltYXRlRmxpcEluWVwiKS5yZW1vdmVDbGFzcyhcImFuaW1hdGVkIGZsaXBJbllcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJChcIiNwYWdlLVwiK3BhZ2UrXCIgLmFuaW1hdGVCb3VuY2VJbkxlZnRcIikucmVtb3ZlQ2xhc3MoXCJhbmltYXRlQm91bmNlSW5MZWZ0XCIpLnJlbW92ZUNsYXNzKFwiYW5pbWF0ZWQgYm91bmNlSW5MZWZ0XCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoXCIjcGFnZS1cIitwYWdlK1wiIC5hbmltYXRlQm91bmNlSW5SaWdodFwiKS5yZW1vdmVDbGFzcyhcImFuaW1hdGVCb3VuY2VJblJpZ2h0XCIpLnJlbW92ZUNsYXNzKFwiYW5pbWF0ZWQgYm91bmNlSW5SaWdodFwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIDEwMDApO1xuICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoJChcIiNwYWdlLTJcIikuaXMoXCI6dmlzaWJsZVwiKSl7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gc2tpbGxzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uZmlnLiRza2lsbFdpZGdldHMuaHRtbChcIlwiKTsgLy9yZW1vdmluZyBhbHJlYWR5IGdlbmVyYXRlZCBjaXJjbGVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25maWcuJHNraWxsV2lkZ2V0cy5jaXJjbGlmdWwoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gKTtcbiAgICAgICAgICAgICAgICBpbml0RXZlbnRzKCk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgaW5pdEV2ZW50cyA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIHZhciAkc2xpZGVzID0gY29uZmlnLiRib29rQmxvY2suY2hpbGRyZW4oKTtcblxuICAgICAgICAgICAgICAgIC8vIGFkZCBuYXZpZ2F0aW9uIGV2ZW50c1xuICAgICAgICAgICAgICAgIGNvbmZpZy4kbmF2TmV4dC5vbiggJ2NsaWNrIHRvdWNoc3RhcnQnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uZmlnLiRib29rQmxvY2suYm9va2Jsb2NrKCAnbmV4dCcgKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gQ2xvc2VzIHRoZSBSZXNwb25zaXZlIE1lbnUgb24gTWVudSBJdGVtIENsaWNrXG4gICAgICAgICAgICAgICAgICAgIGlmKG1lbnVDb25maWcuJG5hdmJhckRyb3Bkb3duTWVudS5oYXNDbGFzcyhcImluXCIpKVxuICAgICAgICAgICAgICAgICAgICAgICAgbWVudUNvbmZpZy4kbmF2YmFyVG9nZ2xlQnV0dG9uLnRyaWdnZXIoJ2NsaWNrJyk7XG5cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgIH0gKTtcblxuICAgICAgICAgICAgICAgIGNvbmZpZy4kbmF2UHJldi5vbiggJ2NsaWNrIHRvdWNoc3RhcnQnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uZmlnLiRib29rQmxvY2suYm9va2Jsb2NrKCAncHJldicgKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gQ2xvc2VzIHRoZSBSZXNwb25zaXZlIE1lbnUgb24gTWVudSBJdGVtIENsaWNrXG4gICAgICAgICAgICAgICAgICAgIGlmKG1lbnVDb25maWcuJG5hdmJhckRyb3Bkb3duTWVudS5oYXNDbGFzcyhcImluXCIpKVxuICAgICAgICAgICAgICAgICAgICAgICAgbWVudUNvbmZpZy4kbmF2YmFyVG9nZ2xlQnV0dG9uLnRyaWdnZXIoJ2NsaWNrJyk7XG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgfSApO1xuXG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgLy8gYWRkIHN3aXBlIGV2ZW50c1xuICAgICAgICAgICAgICAgICRzbGlkZXMub24oIHtcbiAgICAgICAgICAgICAgICAgICAgJ3N3aXBlbGVmdCcgOiBmdW5jdGlvbiggZXZlbnQgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25maWcuJGJvb2tCbG9jay5ib29rYmxvY2soICduZXh0JyApO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAnc3dpcGVyaWdodCcgOiBmdW5jdGlvbiggZXZlbnQgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25maWcuJGJvb2tCbG9jay5ib29rYmxvY2soICdwcmV2JyApO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSApO1xuXG4gICAgICAgICAgICAgICAgLy8gYWRkIGtleWJvYXJkIGV2ZW50c1xuICAgICAgICAgICAgICAgICQoIGRvY3VtZW50ICkua2V5ZG93biggZnVuY3Rpb24oZSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIga2V5Q29kZSA9IGUua2V5Q29kZSB8fCBlLndoaWNoLFxuICAgICAgICAgICAgICAgICAgICAgICAgYXJyb3cgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGVmdCA6IDM3LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVwIDogMzgsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmlnaHQgOiAzOSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb3duIDogNDBcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChrZXlDb2RlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIGFycm93LmxlZnQ6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uZmlnLiRib29rQmxvY2suYm9va2Jsb2NrKCAncHJldicgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgYXJyb3cucmlnaHQ6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uZmlnLiRib29rQmxvY2suYm9va2Jsb2NrKCAnbmV4dCcgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIC8vbWVudSBpdGVtXG4gICAgICAgICAgICBjdXJyZW50ID0gMDtcbiAgICAgICAgICAgIG1lbnVDb25maWcuJG1lbnVJdGVtcy5vbiggJ2NsaWNrJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgdmFyICRlbCA9ICQoIHRoaXMgKSxcbiAgICAgICAgICAgICAgICAgICAgaWR4ID0gJGVsLmF0dHIoXCJkYXRhLXBhZ2VcIiksXG4gICAgICAgICAgICAgICAgICAgIHJlYWNoZWRUb1BhZ2UgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBjb25maWcuJGJvb2tCbG9jay5ib29rYmxvY2soICdqdW1wJyxpZHggICk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICAvL2Fib3V0IG1lbnUgLSBob21lXG4gICAgICAgICAgICBtZW51Q29uZmlnLiRhYm91dE1lbnVJdGVtLm9uKCAnY2xpY2snLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICBjb25maWcuJGJvb2tCbG9jay5ib29rYmxvY2soICduZXh0JyApO1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICByZXR1cm4geyBpbml0IDogaW5pdCB9O1xuXG4gICAgfSkoKTtcblxuXG5cbiAgICAvKipcbiAgICAgKiBPdXIgYXBwbGljYXRpb24gbW9kdWxlIC0gbWFuYWdlcyBhbGwgdGhlIGVsZW1lbnRzIGluIGFsbCBwYWdlc1xuICAgICAqL1xuICAgIHZhciBVbHRyYUFwcCA9IChmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIGh0bWxSZWYgPSAkKCdodG1sJyk7XG4gICAgICAgIHZhciB3aW5kb3dSZWYgPSAkKHdpbmRvdyk7XG4gICAgICAgIHZhciBib2R5UmVmID0gJCgnaHRtbCwgYm9keScpO1xuICAgICAgICB2YXIgZG9jUmVmID0gJChkb2N1bWVudCk7XG4gICAgICAgIHZhciBwcmVsb2FkZXJBcmVhID0gJCgnLmNvdmVyJyk7XG4gICAgICAgIHZhciBoZWFkZXJBcmVhID0gJCgnLmhlYWRlci10b3AtYXJlYScpO1xuICAgICAgICB2YXIgc21vdGhTY3JvbGxFbHMgPSAkKCdhLnNtb3RoLXNjcm9sbCcpO1xuICAgICAgICB2YXIgd29ya0NvbnRhaW5lciA9ICQoJy53b3JrLWlubmVyJyk7XG4gICAgICAgIHZhciB3b3JrUG9wdXAgPSAkKCcud29yay1wb3B1cCcpO1xuICAgICAgICB2YXIgdGVzdGltb25pYWxMaXN0ID0gJChcIi50ZXN0aW1vbmlhbC1saXN0XCIpO1xuICAgICAgICB2YXIgbmF2YmFyVG9nZ2xlID0gJChcIi5uYXZiYXItY29sbGFwc2UuaW5cIik7XG4gICAgICAgIHZhciBncmlkQ29udGFpbmVycyA9ICQoJy5ncmlkJyk7XG4gICAgICAgIHZhciBwb3J0Zm9saW9GaWx0ZXIgPSAkKFwiLmZpbC1jYXRcIik7XG4gICAgICAgIHZhciBwb3J0Zm9saW9Db250YWluZXIgPSAkKFwiLmxycy1wcm9qZWN0c1wiKTtcbiAgICAgICAgdmFyIHBvcnRmb2xpb1Byb2plY3QgPSAkKFwiLmxycy1wcm9qZWN0XCIpO1xuXG5cbiAgICAgICAgLy9pbml0cyB3aWRnZXRzXG4gICAgICAgIHZhciBpbml0V2lkZ2V0cyA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgLy90b29sdGlwXG4gICAgICAgICAgICAkKCdbZGF0YS10b2dnbGU9XCJ0b29sdGlwXCJdJykudG9vbHRpcCgpO1xuXG4gICAgICAgICAgICAvL3BvcG92ZXJcbiAgICAgICAgICAgICQoJ1tkYXRhLXRvZ2dsZT1cInBvcG92ZXJcIl0nKS5wb3BvdmVyKHtcbiAgICAgICAgICAgICAgICAndHJpZ2dlcic6ICdob3ZlcicsXG4gICAgICAgICAgICAgICAgJ2h0bWwnOiB0cnVlLFxuICAgICAgICAgICAgICAgIHBsYWNlbWVudDogJ3RvcCcsXG4gICAgICAgICAgICAgICAgJ2NvbnRlbnQnOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBcIjxpbWcgY2xhc3M9J2ltZy1yZXNwb25zaXZlJyBzcmM9J1wiICsgJCh0aGlzKS5kYXRhKCdpbWFnZVVybCcpICsgXCInPjxzcGFuPlBvcG92ZXIgY29udGVudCwgbG9yZW0gaXBzdW0gZG9sb3Igc2l0IGFtZXQsIGNvbnNlY3RldHVyIGFkaXBpc2NpbmcgZWxpdDwvc3Bhbj5cIjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcblxuICAgICAgICAvL2luaXQgcG9yZm9saW9cbiAgICAgICAgdmFyIGluaXRQb3J0Zm9saW9HcmlkID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAvL21hc3NvbmFyeSAtIHBvcnRmb2xpb1xuICAgICAgICAgICAgZ3JpZENvbnRhaW5lcnMubWFzb25yeSh7XG4gICAgICAgICAgICAgICAgLy8gc2V0IGl0ZW1TZWxlY3RvciBzbyAuZ3JpZC1zaXplciBpcyBub3QgdXNlZCBpbiBsYXlvdXRcbiAgICAgICAgICAgICAgICBpdGVtU2VsZWN0b3I6ICcuZ3JpZC1pdGVtJyxcbiAgICAgICAgICAgICAgICAvLyB1c2UgZWxlbWVudCBmb3Igb3B0aW9uXG4gICAgICAgICAgICAgICAgY29sdW1uV2lkdGg6ICcuZ3JpZC1zaXplcicsXG4gICAgICAgICAgICAgICAgcGVyY2VudFBvc2l0aW9uOiB0cnVlXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgLy9hY3RpdmF0ZSBmaWx0ZXJzXG4gICAgICAgICAgICB2YXIgc2VsZWN0ZWRDbGFzcyA9IFwiXCI7XG4gICAgICAgICAgICBwb3J0Zm9saW9GaWx0ZXIub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHBvcnRmb2xpb0ZpbHRlci5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XG4gICAgICAgICAgICAgICAgJCh0aGlzKS5hZGRDbGFzcygnYWN0aXZlJyk7XG4gICAgICAgICAgICAgICAgc2VsZWN0ZWRDbGFzcyA9ICQodGhpcykuYXR0cihcImRhdGEtcmVsXCIpO1xuICAgICAgICAgICAgICAgIHBvcnRmb2xpb0NvbnRhaW5lci5mYWRlVG8oMTAwLCAwLjEpO1xuICAgICAgICAgICAgICAgIHBvcnRmb2xpb1Byb2plY3Qubm90KFwiLlwiICsgc2VsZWN0ZWRDbGFzcykuZmFkZU91dCgpLnJlbW92ZUNsYXNzKCdzY2FsZS1hbm0nKTtcbiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgJChcIi5cIiArIHNlbGVjdGVkQ2xhc3MpLmZhZGVJbigpLmFkZENsYXNzKCdzY2FsZS1hbm0nKTtcbiAgICAgICAgICAgICAgICAgICAgcG9ydGZvbGlvQ29udGFpbmVyLmZhZGVUbygzMDAsIDEpO1xuICAgICAgICAgICAgICAgIH0sIDMwMCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vb24gZG9jdW1lbnQgcmVhZHkgY2FsbGJhY2sgZnVuY3Rpb25cbiAgICAgICAgdmFyIG9uRG9jUmVhZHkgPSBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICAvL3Ntb290aCBzY3JvbGxcbiAgICAgICAgICAgIHNtb3RoU2Nyb2xsRWxzLm9uKFwiY2xpY2tcIiwgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgICAgICB2YXIgYW5jaG9yID0gJCh0aGlzKTtcbiAgICAgICAgICAgICAgICBib2R5UmVmLnN0b3AoKS5hbmltYXRlKHtcbiAgICAgICAgICAgICAgICAgICAgc2Nyb2xsVG9wOiAkKGFuY2hvci5hdHRyKCdocmVmJykpLm9mZnNldCgpLnRvcCAtIDUwXG4gICAgICAgICAgICAgICAgfSwgMTAwMCk7XG4gICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAvL3N0ZWxsYXIgcGFyYWxsYXggZWZmZWN0c1xuICAgICAgICAgICAgIHdpbmRvd1JlZi5zdGVsbGFyKHtcbiAgICAgICAgICAgICAgICAgcmVzcG9uc2l2ZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgcG9zaXRpb25Qcm9wZXJ0eTogJ3Bvc2l0aW9uJyxcbiAgICAgICAgICAgICAgICAgaG9yaXpvbnRhbFNjcm9sbGluZzogZmFsc2VcbiAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgLy93b3JrIHNlY3Rpb25cbiAgICAgICAgICAgIHdvcmtDb250YWluZXIubWl4SXRVcCgpO1xuXG4gICAgICAgICAgICAvL3BvcnRmb2xpbyBpdGVtIHBvcHVwXG4gICAgICAgICAgICB3b3JrUG9wdXAubWFnbmlmaWNQb3B1cChcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6ICdpbWFnZScsXG4gICAgICAgICAgICAgICAgICAgIHJlbW92YWxEZWxheTogMzAwLFxuICAgICAgICAgICAgICAgICAgICBtYWluQ2xhc3M6ICdtZnAtd2l0aC16b29tJyxcbiAgICAgICAgICAgICAgICAgICAgZ2FsbGVyeToge1xuICAgICAgICAgICAgICAgICAgICAgICAgZW5hYmxlZDogdHJ1ZVxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICB6b29tOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBlbmFibGVkOiB0cnVlLCAvLyBCeSBkZWZhdWx0IGl0J3MgZmFsc2UsIHNvIGRvbid0IGZvcmdldCB0byBlbmFibGUgaXRcblxuICAgICAgICAgICAgICAgICAgICAgICAgZHVyYXRpb246IDMwMCwgLy8gZHVyYXRpb24gb2YgdGhlIGVmZmVjdCwgaW4gbWlsbGlzZWNvbmRzXG4gICAgICAgICAgICAgICAgICAgICAgICBlYXNpbmc6ICdlYXNlLWluLW91dCcsIC8vIENTUyB0cmFuc2l0aW9uIGVhc2luZyBmdW5jdGlvblxuXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBUaGUgXCJvcGVuZXJcIiBmdW5jdGlvbiBzaG91bGQgcmV0dXJuIHRoZSBlbGVtZW50IGZyb20gd2hpY2ggcG9wdXAgd2lsbCBiZSB6b29tZWQgaW5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGFuZCB0byB3aGljaCBwb3B1cCB3aWxsIGJlIHNjYWxlZCBkb3duXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBCeSBkZWZhaWx0IGl0IGxvb2tzIGZvciBhbiBpbWFnZSB0YWc6XG4gICAgICAgICAgICAgICAgICAgICAgICBvcGVuZXI6IGZ1bmN0aW9uIChvcGVuZXJFbGVtZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gb3BlbmVyRWxlbWVudCBpcyB0aGUgZWxlbWVudCBvbiB3aGljaCBwb3B1cCB3YXMgaW5pdGlhbGl6ZWQsIGluIHRoaXMgY2FzZSBpdHMgPGE+IHRhZ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHlvdSBkb24ndCBuZWVkIHRvIGFkZCBcIm9wZW5lclwiIG9wdGlvbiBpZiB0aGlzIGNvZGUgbWF0Y2hlcyB5b3VyIG5lZWRzLCBpdCdzIGRlZmFpbHQgb25lLlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBvcGVuZXJFbGVtZW50LmlzKCdpbWcnKSA/IG9wZW5lckVsZW1lbnQgOiBvcGVuZXJFbGVtZW50LmZpbmQoJ2ltZycpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAvL3Rlc3RpbW9uaWFsc1xuICAgICAgICAgICAgdGVzdGltb25pYWxMaXN0Lm93bENhcm91c2VsKHtcbiAgICAgICAgICAgICAgICBpdGVtczogMSxcbiAgICAgICAgICAgICAgICBhdXRvUGxheTogdHJ1ZSxcbiAgICAgICAgICAgICAgICBuYXZpZ2F0aW9uOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBpdGVtc0Rlc2t0b3A6IFsxMTk5LCAxXSxcbiAgICAgICAgICAgICAgICBpdGVtc0Rlc2t0b3BTbWFsbDogWzk4MCwgMV0sXG4gICAgICAgICAgICAgICAgaXRlbXNUYWJsZXQ6IFs3NjgsIDFdLFxuICAgICAgICAgICAgICAgIGl0ZW1zVGFibGV0U21hbGw6IGZhbHNlLFxuICAgICAgICAgICAgICAgIGl0ZW1zTW9iaWxlOiBbNDc5LCAxXSxcbiAgICAgICAgICAgICAgICBwYWdpbmF0aW9uOiB0cnVlLFxuICAgICAgICAgICAgICAgIGF1dG9IZWlnaHQ6IHRydWUsXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgLy9uYXZiYXIgLSBzbWFsbCBkZXZpY2VcbiAgICAgICAgICAgIG5hdmJhclRvZ2dsZS5vbignY2xpY2snLCBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgICAgIGlmICgkKGUudGFyZ2V0KS5pcygnYScpICYmICQoZS50YXJnZXQpLmF0dHIoJ2NsYXNzJykgIT0gJ2Ryb3Bkb3duLXRvZ2dsZScpIHtcbiAgICAgICAgICAgICAgICAgICAgJCh0aGlzKS5jb2xsYXBzZSgnaGlkZScpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAvL2FjdGl2YXRlIG1lbnUgaXRlbSBiYXNlZCBvbiBzY3JvbGxlZCBzZWN0aW9uXG4gICAgICAgICAgICBib2R5UmVmLnNjcm9sbHNweSh7XG4gICAgICAgICAgICAgICAgdGFyZ2V0OiAnLm5hdmJhci1jb2xsYXBzZScsXG4gICAgICAgICAgICAgICAgb2Zmc2V0OiAxOTVcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAvL3BvcnRmb2xpb1xuICAgICAgICAgICAgaW5pdFBvcnRmb2xpb0dyaWQoKTtcblxuICAgICAgICAgICAgLy93aWRnZXRzXG4gICAgICAgICAgICBpbml0V2lkZ2V0cygpO1xuXG4gICAgICAgIH07XG5cbiAgICAgICAgLy9vbiB3aW5kb3cgbG9hZCBjYWxsIGJhY2sgZnVuY3Rpb25cbiAgICAgICAgdmFyIG9uV2luTG9hZCA9IGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgIC8vIHByZWxvYWRlciAtIGhhbmRsaW5nXG4gICAgICAgICAgICBwcmVsb2FkZXJBcmVhLmRlbGF5KDEwMDApLmZhZGVPdXQoMjAwMCk7XG4gICAgICAgIH07XG5cbiAgICAgICAgLy9vbiB3aW5kb3cgc2Nyb2xsIGNhbGwgYmFjayBmdW5jdGlvblxuICAgICAgICB2YXIgb25XaW5TY3JvbGwgPSBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICAvL2hlYWRlclxuICAgICAgICAgICAgaWYgKHdpbmRvd1JlZi5zY3JvbGxUb3AoKSA+IDIwMCkge1xuICAgICAgICAgICAgICAgIGhlYWRlckFyZWEuYWRkQ2xhc3MoJ21lbnUtYmcnKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgaGVhZGVyQXJlYS5yZW1vdmVDbGFzcygnbWVudS1iZycpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIC8vYmluZHMgdGhlIGV2ZW50cyB0byByZXF1aXJlZCBlbGVtZW50c1xuICAgICAgICB2YXIgYmluZEV2ZW50cyA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgZG9jUmVmLm9uKCdyZWFkeScsIG9uRG9jUmVhZHkpO1xuICAgICAgICAgICAgd2luZG93UmVmLm9uKCdsb2FkJywgb25XaW5Mb2FkKTtcbiAgICAgICAgICAgIHdpbmRvd1JlZi5vbignc2Nyb2xsJywgb25XaW5TY3JvbGwpO1xuICAgICAgICB9O1xuXG4gICAgICAgIC8vIGluaXQgLSBpbml0aWxpemVzIHZhcmlvdXMgd2lkZ2V0cywgZWxlbWVudHMsIGV2ZW50cywgZXRjXG4gICAgICAgIHZhciBpbml0ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBiaW5kRXZlbnRzKCk7XG4gICAgICAgICAgICAvL2luaXQgcGFnZSBhcHBcbiAgICAgICAgICAgIFBhZ2UuaW5pdCgpO1xuICAgICAgICB9O1xuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBpbml0OiBpbml0XG4gICAgICAgIH07XG4gICAgfSgpKTtcblxuICAgIC8vaW5pdCBhcHBcbiAgICBVbHRyYUFwcC5pbml0KCk7XG59KSgpOyJdfQ==;